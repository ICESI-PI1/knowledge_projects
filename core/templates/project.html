{% extends 'base.html' %}

{% load static %}

{% block htmlhead %}
<style>


  .flex-container{
    display: flex;
    margin-left: 10rem;
    margin-right: 10rem;
  
   justify-content: left;
  }

  .carousel, .img1{
    width: 40vw;
    height: 70vh;
    border-radius: 16px;
  }

  .info{
    margin-left: 5rem;
    margin-top: 2rem;
 
  }
  .flex-container1{
    display: flex;
    flex-direction: column;
  }
  .flex-container2{
    display: flex;
    margin-top: 2.5rem;
  }
  .flex-container3{
    display: flex;
    margin-left: 10rem;
    margin-right: 10rem;
    
    flex-direction: column;
  }

  .button {
    padding-top: 10px;
    padding-bottom: 10px;
    padding-left: 50px;
    padding-right: 50px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    cursor: pointer;
    margin-bottom: 10%;
  }
  
  .button1 {   
    color: #FFFFFF;
    border-radius: 16px;
    background-color: #087F8C; 
    border: none;
  }

  .button2 {   
    color: #087F8C;
    border-radius: 16px;
    border-color: #087F8C;
  }
   
   
  @media screen and (max-width: 940px) {
    #flip {
      flex-direction: column !important;
    }

    .carousel, .img1{
      width: 85vw;
      height: 50vh;
    }

    .info {
      align-items: center;
      margin-left: 0px;
    }
  }
</style>

<link rel="stylesheet" href="{% static 'gallery_style.css'%}">
{% endblock %}

    
{% block content %}
      <section id="flip" class="d-flex flex-row justify-content-center align-items-center" style="padding: 0% 6%;">
        {% for qs in card%}
        <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="true">
            <div class="carousel-indicators">
              <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
              <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
              <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
              <div class="carousel-item ">
                <img class="img1" src="{{qs.img.url}}" class="d-block" alt="...">
              </div>
              <div class="carousel-item active">
                <img class="img1" src="..\media\pic\23\azucar.jpg" class="d-block" alt="...">
              </div>
              <div class="carousel-item">
                <img class="img1" src="..\media\pic\23\pan.jpg" class="d-block" alt="...">
              </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
        </div>
        
        <div class="info">
          <h4 class="c1">{{qs.category.category_name}}</h4>
          <h2 style="font-family: 'DM Sans'; color: black ; margin-top:0.5rem;">{{qs.project_name}}</h2>
          <p style="margin-top:1rem;">{{qs.project_description}}</p>

          <div class="progress" style="margin-top:4rem;">
            <div class="progress-bar" role="progressbar" aria-label="Basic example" style="width: 55%" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
          </div>

          <div class="flex-container2">
            <div class="flex-container1">
              <h2>55%</h2>
              <p>Progreso</p>
            </div>
            <div class="flex-container1" style="margin-left: 2rem;">
              <h2>14</h2>
              <p>Inversores</p>
            </div>
          </div>
         

          <div class="d-flex flex-row" style="gap: 1rem;">
            <a class="primary-btn" href="{% url 'core:donation_methods' %}?lang={{qs.project_id}}">Donar</a>
            <a class="secondary-btn" href="{% url 'core:detailedinfo' %}?lang={{qs.project_id}}">Información detallada</a>
          </div>
        </div>
        {%endfor%}
        

      </section>

      {% if not card1 %}
        <div style="margin-top: 3rem;"> <h3 ><center><strong>No hay proyectos similares</strong></center></h3></div>
      {%else%}

      <section class="d-flex flex-column" style="padding: 0% 6%; margin-top: 3rem;">
        <h3><strong>Proyectos Similares</strong></h3>
       
        <div id="grid-l" style="margin-top: 1rem;">
          {%for x in card1%}
            <div class="card card-g">
              <img src="{{x.img.url}}" class="card-image">  
              <div class="d-flex flex-column align-items-flex-start p-3"> 
                <div class="expanded">
                  <a class="category-tag" href="{% url 'core:gallery' %}?lang={{x.category_id}}">{{x.category.category_name}}</a>
                  <h5 class="card-title mt-3"><strong>{{x.project_name}}</strong></h5>
                  <p class="card-text pb-3">{{x.project_description}}</p>
                </div>
                       <a class="c1"  href="{% url 'core:project' %}?lang={{x.project_id}}">Conocer más</a>
              </div>
            </div>
          {%endfor%}
        </div>

      </section>

    {% endif %}
{% endblock %}